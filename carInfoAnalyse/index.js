
var input1 = "{{Wikipedia|Aston Martin Vantage (2005)#Vantage GT3}}{{Infobox/car|Manufacturer Logo = Aston Martin|Model Name = Vantage GT3|Production = 2013-2014|Class = P|Engine = Front-Mounted|Drivetrain = RWD|Gearbox = Manual 7|Cost = 571,500|Servicecost = 1,462|Servicetime = 3 hours 10 minutes}}The '''Aston Martin Vantage GT3''' was announced in 2012 and is an upgraded racing variant of the [[Aston Martin V12 Vantage S|Aston Martin V12 Vantage]]. It is also the successor to the Aston Martin DBRS9 which was manufactured between 2005 and 2012. It features a 7.0L V12.This car participated in various races and motorsport such as the 24 hours of Nürburgring and the 24 hours of Spa.==Availability==The '''Aston Martin Vantage GT3''' is available in three series:*[[GT3 World Series]] career series in the [[Master]] category*[[Global GT Clash]] bonus series in the [[Elite (Category)|Elite]] category*[[All-Out Attack]] in the [[Elite (Category)|Elite]] categoryThis vehicle was added in the [[History#Real Racing 3 Aston Martin Racing Update (v3.2)|Aston Martin Racing Update (v3.2)]] released in March 2015. It is unlocked by earning 17 trophies in [[Global GT Clash]], 23 trophies in [[GT3 World Series]], or 11 Trophies in [[All-Out Attack]].This vehicle can be acquired for R$571,500 or R$457,200 with showcase discount, with a shipping time of 16 hours. It can sometimes be bought for 250 {{Gold}} as a 'Get it Now' price.==Characteristics=={{T/stats|PR Initial = 51.8|TPSMPH = 197|TPSKMH = 317|ACC = 3.29|BRFT = 97.0|BRM = 29.5|UPG Maxcash=1111111|UPG Max=7453333|CORN = 1.23|COSTINT = 571,500|PR Maxcash = 55.7|TPSMPH2 = 203|TPSKMH2 = 326|ACC2 = 3.21|BRFT2 = 94.0|BRM2 = 28.6|CORN2 = 1.27|COSTRS = 176,200|COSTRS2 = 1,009,500|PR Max = 67.1|TPSMPH3 = 224|TPSKMH3 = 360|ACC3 = 2.95|BRFT3 = 89.0|BRM3 = 27.1|CORN3 = 1.35|COSTGOLD = 202|COSTGOLD2 = 521|URS1 = 7|URS2 = 10|UGOLD1 = 11|UGOLD2 = 28}}==Upgrades (28)=={{H/upgrades}}{{R/upgrades|1|Engine|High Flow Carbon Fibre Airbox|1 Hour|30400|8}}{{R/upgrades|2|Engine|Competition Engine Tuning|||12}}{{R/upgrades|3|Engine|Competition Throttle Body|4 Hours|68300|18}}{{R/upgrades|4|Engine|Increase Engine Bore|||28}}{{R/upgrades|5|Engine|Performance Intake Manifold|12 Hours|153700|42}}{{R/upgrades|6|Engine|Competition Cam-Shaft|||60}}{{R/upgrades|7|Engine|Competition Cylinder Heads|1 Day|345800|95}}{{R/upgrades|1|Drivetrain|Lightweight Flywheel|1 Hour|28300|7}}{{R/upgrades|2|Drivetrain|Uprated Sports Driveshaft|||10}}{{R/upgrades|3|Drivetrain|Race-Spec Lightweight Differential|4 Hours|63600|16}}{{R/upgrades|4|Drivetrain|Re-Calibrated Gearbox|||26}}{{R/upgrades|1|Body|Weight Reduction|1 Hour|22400|6}}{{R/upgrades|2|Body|General Body Refinement|||9}}{{R/upgrades|3|Body|Aero Optimised Undertray|4 Hours|50500|14}}{{R/upgrades|4|Body|Advanced Body Refinement|||20}}{{R/upgrades|5|Body|Advanced Weight Reduction|12 Hours|113600|30}}{{R/upgrades|1|Suspension|Uprated Carbon Fibre Racing Swaybar|1 Hour|25900|7}}{{R/upgrades|2|Suspension|Advanced Damping|||10}}{{R/upgrades|3|Suspension|Advanced Suspension Tuning|4 Hours|58300|16}}{{R/upgrades|1|Exhaust|Uprated Hi-Flow Catalytic Converter|1 Hour|25600|7}}{{R/upgrades|2|Exhaust|Custom Titanium Exhaust Headers|||10}}{{R/upgrades|3|Exhaust|Custom Titanium Competition Exhaust|4 Hours|57600|16}}{{R/upgrades|1|Brakes|Uprated Competition Brake Pads|1 Hour|19800|5}}{{R/upgrades|2|Brakes|Uprated Competition Calipers|||8}}{{R/upgrades|3|Brakes|Carbon Ceramic Brake Discs|4 Hours|44600|12}}{{R/upgrades|1|Tires & Wheels|Specialised Camber & Toe Adjustments|1 Hour|23800|6}}{{R/upgrades|2|Tires & Wheels|Elite Racing Compound|||9}}{{R/upgrades|3|Tires & Wheels|Lightweight Alloy Rims|4 Hours|53500|14}}{{T/upgrades|1 Day<br />17 Hours}}==Navigation=={{Navbox/Manufacturer/AstonMartin}}{{Navbox/Series/GT3WorldSeries}}{{Navbox/Series/GlobalGTClash}}{{Navbox/Series/AllOutAttack}}",
	input2 = "{{Wikipedia|Aston Martin Vanquish}}{{Infobox/car|Manufacturer Logo = Aston Martin|Model Name = Vanquish|Production = 2013|Class = P|Engine = Front-Mounted|Drivetrain = RWD|Gearbox = 6|G = Yes|Cost = 110|Servicecost = 1,230|Servicetime = 2 hours 30 minutes}}The '''Aston Martin Vanquish''' is a grand tourer that was introduced in 2012, is still in production and is the successor of the [[Aston Martin]] DBS. In 2014 the model went through technical modifications which gave the Vanquish a higher top speed and faster acceleration. It features a 5.9L V12.==Availability==The Vanquish is available to use in three series:*[[Muscle and Prestige]] bonus series in the [[Expert]] category*[[Aston Martin Expedition]] career series in the [[Expert]] category*[[Grand Tourer Supremacy Series]] bonus series in the [[Master]] categoryThis vehicle was added in the [[History#Real Racing 3 Customization Update (v2.1)|Customization Update (v2.1)]] released in March 2014. It is unlocked by earning 14 trophies in [[Aston Martin Expedition]], 9 trophies in [[Muscle and Prestige]] or 22 trophies in [[Grand Tourer Supremacy Series]].This vehicle can be acquired for 110 {{Gold}} or 88 {{Gold}} with showcase discount. It can sometimes be bought for 180 {{Gold}} as a 'Get it Now' price, unlocking [[Grand Tourer Supremacy Series]]. In v4.2, this could be won in [[The Gauntlet (Season 5)]].This vehicle is used in the following special events:*Used in [[Road To Le Mans]] in Stages 2 and 3.==Characteristics=={{T/stats|PR Initial = 33.6|TPSMPH = 183|TPSKMH = 294|ACC = 4.09|BRFT = 103.0|BRM = 31.3|CORN = 1.01|COSTINTGOLD = 110|PR Maxcash = 44.0|TPSMPH2 = 202|TPSKMH2 = 325|ACC2 = 3.72|BRFT2 = 99.2|BRM2 = 30.2|UPG Maxcash=4234222|UPG Max=7365333|CORN2 = 1.12|COSTRS = 423,800|COSTRS2 = 180,600|PR Max = 49.8|TPSMPH3 = 216|TPSKMH3 = 347|ACC3 = 3.50|BRFT3 = 98.0|BRM3 = 29.8|CORN3 = 1.15|COSTGOLD = 154|COSTGOLD2 = 309|URS1 = 19|URS2 = 2|UGOLD1 = 9|UGOLD2 = 30}}==Upgrades (30)=={{H/upgrades}}{{R/upgrades|1|Engine|High Flow Carbon Fibre Airbox|30 minutes|15900|4}}{{R/upgrades|2|Engine|Competition Engine Tuning|1 Hour|23900|6}}{{R/upgrades|3|Engine|Competition Throttle Body|2 Hours 30 Minutes|35900|9}}{{R/upgrades|4|Engine|Increase Engine Bore|4 Hours|53800|14}}{{R/upgrades|5|Engine|Performance Intake Manifold|||22}}{{R/upgrades|6|Engine|Competition Cam-shaft|12 Hours|121000|32}}{{R/upgrades|7|Engine|Performance Cylinder Heads|||50}}{{R/upgrades|1|Drivetrain|Ultra-Lightweight Flywheel|30 minutes|14800|4}}{{R/upgrades|2|Drivetrain|Race-Spec Lightweight Differential|1 Hour|22200|6}}{{R/upgrades|3|Drivetrain|Lightweight Sequential Gearbox|||9}}{{R/upgrades|1|Body|Polycarbonate Window Replacements|30 minutes|11800|3}}{{R/upgrades|2|Body|Weight Reduction|1 Hour|17700|4}}{{R/upgrades|3|Body|General Body Refinement|2 Hours 30 Minutes|26500|7}}{{R/upgrades|4|Body|Aero Optimised Undertray|||10}}{{R/upgrades|5|Body|Advanced Body Refinement|8 Hours|59600|16}}{{R/upgrades|6|Body|Advanced Weight Reduction|||24}}{{R/upgrades|1|Suspension|Carbon Fibre Strut Brace|30 minutes|13600|3}}{{R/upgrades|2|Suspension|Performance Sway Bars|1 Hour|20400|5}}{{R/upgrades|3|Suspension|Advanced Suspension Tuning|2 Hours 30 Minutes|30600|8}}{{R/upgrades|4|Suspension|Uprated Sports Shocks|4 Hours|45900|12}}{{R/upgrades|5|Suspension|Fully Adjustable Sports Shocks|||18}}{{R/upgrades|1|Exhaust|Uprated Hi-Flow Catalytic Converter|30 minutes|13400|3}}{{R/upgrades|2|Exhaust|Custom Titanium Exhaust Headers|1 Hour|20200|5}}{{R/upgrades|3|Exhaust|Custom Titanium Competition Exhaust|||8}}{{R/upgrades|1|Brakes|Uprated Competition Brake Pads|30 minutes|10400|2}}{{R/upgrades|2|Brakes|Uprated Competition Calipers|1 Hour|15600|4}}{{R/upgrades|3|Brakes|Uprated Carbon Ceramic Vented Brake Discs|||6}}{{R/upgrades|1|Tires & Wheels|Camber Alignment|30 minutes|12500|3}}{{R/upgrades|2|Tires & Wheels|High-Grip Performance Compound|1 Hour|18700|5}}{{R/upgrades|3|Tires & Wheels|Lightweight Alloy Rims|||7}}{{T/upgrades|20 Hours}}==Navigation=={{Navbox/Manufacturer/AstonMartin}}{{Navbox/Series/MuscleandPrestige}}{{Navbox/Series/AstonMartinExpedition}}{{Navbox/Series/GrandTourerSupremacySeries}}{{Navbox/Event/RoadToLeMans}}",
	input3 = "{{Quote|Record-setting American hypercar|In-game description}}{{Wikipedia}}{{Infobox/car|Manufacturer Logo = Hennessey|Model Name = Venom GT|Production = 2015|Class = S|Engine = Mid-Mounted|Drivetrain = RWD|Gearbox = Manual 6|G = Yes|Cost = 950|Servicecost = 1,997|Servicetime = 3 hours}}The '''Hennessey Venom GT''' is a sports car based on the Lotus Exige manufactured by Texas-based Hennessey Performance Engineering and assembled in England. The Hennessey Venom GT holds many official and unofficial records. The Venom GT set a world record for the fastest production car from 0–300 kilometres per hour (0–186 mph) with an average acceleration time of nearly 14 seconds. The Hennessey team recorded a top speed of 270.49 mph (435.31 km/h) on the shuttle landing strip at Kennedy Space Center, Florida - making it the unofficial fastest car of the world.==Availability==The '''Hennessey Venom GT''' is available in two series:* [[Breakneck Legends]] bonus series in the [[Legend]] category* [[Hypercar Charge]] bonus series in the [[Legend]] categoryThis vehicle was added in the [[History#Real Racing 3 Venom Update (v4.2)|Venom Update (v4.2)]] released in April 2016 and can be unlocked by earning 8 trophies in [[Hypercar Charge]], 28 trophies in [[Breakneck Legends]] or by completing the [[Front-Runner]] special event.This vehicle can be acquired for 950 {{Gold}} or 760 {{Gold}} with showcase discount. It can sometimes be bought for ?? {{Gold}} as a 'Get it Now' price, unlocking [[Hypercar Charge]] and [[Breakneck Legends]].==Characteristics=={{T/stats|PR Initial = 80.4|TPSMPH = 270|TPSKMH = 434|ACC = 2.70|BRFT = 85.0|BRM = 25.9|CORN = 1.67|COSTINTGOLD = 950|PR Maxcash = 84.8|TPSMPH2 = 274|TPSKMH2 = 442|ACC2 = 2.55|BRFT2 = 81.3|BRM2 = 24.7|CORN2 = 1.72|PR Max = 94.3|COSTRS = 1,175,400|TPSMPH3 = 290|TPSKMH3 = 466|ACC3 = 2.17|BRFT3 = 78.0|BRM3 = 23.7|CORN3 = 1.78|COSTRS2 = 3,292,800|COSTGOLD = 995|URS1 = 8|URS2 = 6|UGOLD1 = 12|UGOLD2 = 26|COSTGOLD2 = 2,219}}==Upgrades (26)=={{H/upgrades}}{{R/upgrades|1|Engine|Cold Air Intake|12 hours|166,000|46}}{{R/upgrades|2|Engine|Competition Engine Tuning|||65}}{{R/upgrades|3|Engine|Competition Throttle Body|||100}}{{R/upgrades|4|Engine|Increase Engine Bore|1 Day 12 Hours|560,400|155}}{{R/upgrades|5|Engine|Competition Intake Manifold|||230}}{{R/upgrades|6|Engine|Competition Cam-shaft|2 days|1,260,800|350}}{{R/upgrades|1|Drivetrain|Ultra-Lightweight Flywheel|12 hours|154,500|42}}{{R/upgrades|2|Drivetrain|Uprated Sports Driveshaft|||60}}{{R/upgrades|3|Drivetrain|Race-Spec Lightweight Differential|||95}}{{R/upgrades|4|Drivetrain|Competition Sports Gearbox|1 Day 12 Hours|521,400|140}}{{R/upgrades|1|Body|Polycarbonate Window Replacements|12 hours|122,700|34}}{{R/upgrades|2|Body|Aero Optimised Undertray With Diffuser|||50}}{{R/upgrades|3|Body|Aerodynamic Detailing|||75}}{{R/upgrades|4|Body|Advanced Body Refinement|1 Day 12 Hours|414,200|115}}{{R/upgrades|1|Suspension|Advanced Suspension Tuning|12 hours|141,600|38}}{{R/upgrades|2|Suspension|Fully Adjustable Performance Shocks|18 Hours|212,400|55}}{{R/upgrades|3|Suspension|Fully Adjustable Racing Shocks|||85}}{{R/upgrades|1|Exhaust|Ultra-Flow Catalytic Converter|12 hours|140,000|38}}{{R/upgrades|2|Exhaust|Custom Titanium Exhaust Headers|||55}}{{R/upgrades|3|Exhaust|Custom Titanium Turbo-back Exhaust|||85}}{{R/upgrades|1|Brakes|Uprated Competition Brake Pads|12 hours|108,300|30}}{{R/upgrades|2|Brakes|Uprated Competition Calipers|||45}}{{R/upgrades|3|Brakes|Uprated Carbon Ceramic Vented Brake Discs|1 Day|243,600|65}}{{R/upgrades|1|Tires & Wheels|Camber & Toe Adjustments|12 hours|129,900|36}}{{R/upgrades|2|Tires & Wheels|Elite Racing Compound|||50}}{{R/upgrades|3|Tires & Wheels|Ultra Light Competition Rims|1 Day|292,400|80}}{{T/upgrades|4 Days}}==Trivia==*This car has the joint highest upgraded top speed in ''Real Racing 3'' (290 mph or 466 kph) along with [[Koenigsegg One:1]] ; although the highest stock top speed belongs to the [[Koenigsegg Agera R]] along with [[Koenigsegg One:1]] (273 mph or 439 kph).==Navigation=={{Navbox/Manufacturer/Hennessey}}{{Navbox/Series/HypercarCharge}}{{Navbox/Series/BreakneckLegends}}",
	splits = [
		'Availability',
		'Characteristics',
		'Upgrades',
		'Navigation'
	],
	parts = [{
		name: 'info',
		part: 0
	}, {
		name: 'char',
		part: 2
	}, {
		name: 'upgr',
		part: 3
	}]

console.log('\n############################\n############################\n######## START HERE ########\n############################\n############################\n')

function getWrapedData (str) {
	var i,
		num = 0,
		text = '',
		result = []

	for (i of str) {
		switch (i) {
			case '{':
				num++
				break
			case '}':
				num--
				break
			default:
				break
		}

		if (num != 0) {
			text += i
		}
		if (num == 0 && i == '}') {
			text += i
			result.push(text)
			text = ''
		}
	}

	return result
}

function getDataArrs (strToAnalyse, splitStrs, wantedParts) {
	var result = [],
		splitedStrArr = []

	splitStrs.forEach(splitString => {
		var splitedStr = strToAnalyse.split(splitString)
		splitedStrArr.push(splitedStr[0])
		strToAnalyse = splitedStr[1]
	})

	splitedStrArr.push(strToAnalyse)

	wantedParts.forEach(arr => {
		result[arr.name] = getWrapedData(splitedStrArr[arr.part])
	})

	return result
}

function formatStr (str) {
	return str.replace(/[{}]/g, '').split('|')
}

function mapKeyValue (arr) {
	var result = {},
		keyVal = []

	arr.forEach((el, i) => {
		if (i == 0) {
			return
		}

		keyVal = el.split('=')
		result[keyVal[0].trim()] = keyVal[1].trim()
	})

	return result
}

function infoBlockToJSON (arr) {
	var result = {},
			formatedArr = {}

	arr.forEach((el, i) => {
		if (formatStr(el)[0] == 'Wikipedia') {
			formatedArr.name = formatStr(el)
		} else if (formatStr(el)[0] == 'Infobox/car') {
			formatedArr.info = formatStr(el)
		}
	})

	result = mapKeyValue(formatedArr.info)
	result.name = formatedArr.name[1] ? formatedArr.name[1] : result['Manufacturer Logo'] + ' ' + result['Model Name']

	return result
}

function charBlockToJSON (arr) {
	return mapKeyValue(formatStr(arr[0]))
}

function upgrBlockToJSON (arr) {
	var result = {},
			formatedArr = []

	arr.forEach((el, i) => {
		formatedArr = formatStr(el)

		if (i == 0) {
			return
		}

		if (!formatedArr[2]) {
			result['total'] = formatedArr[1]
			return
		}

		if (!result[formatedArr[2]]) {
			result[formatedArr[2]] = []
		}

		result[formatedArr[2]].push({
			name: formatedArr[3],
			duration: formatedArr[4],
			rs: formatedArr[5],
			coin: formatedArr[6]
		})

	})

	return result
}

function blocksToJSON (arr) {
	var result = {}

	result.info = infoBlockToJSON(arr.info)
	result.char = charBlockToJSON(arr.char)
	result.upgr = upgrBlockToJSON(arr.upgr)

	return result
}

var blocks1 = getDataArrs(input1, splits, parts),
		blocks2 = getDataArrs(input2, splits, parts),
		blocks3 = getDataArrs(input3, splits, parts)

console.log(blocks3, blocksToJSON(blocks3))

while(1) {}
